<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    <meta property="og:site_name" content="WHW blog">
    <meta property="og:type" content="article">

    
    <meta property="og:image" content="https://mattwang44.github.io//https://images.unsplash.com/photo-1470004914212-05527e49370b?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=2726&amp;q=80">
    <meta property="twitter:image" content="https://mattwang44.github.io//https://images.unsplash.com/photo-1470004914212-05527e49370b?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=2726&amp;q=80" />
    

    
    <meta name="title" content="Preparation of GCP certificated associate cloud engineer [WIP]" />
    <meta property="og:title" content="Preparation of GCP certificated associate cloud engineer [WIP]" />
    <meta property="twitter:title" content="Preparation of GCP certificated associate cloud engineer [WIP]" />
    

    
    <meta name="description" content=" ">
    <meta property="og:description" content=" " />
    <meta property="twitter:description" content=" " />
    

    
    <meta property="twitter:card" content="summary" />
    
    

    <meta name="keyword"  content="MattWang, blog, Taiwan">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>Preparation of GCP certificated associate cloud engineer [WIP]-MattWang Blog</title>

    <link rel="canonical" href="/2020/06/15/GCP-ACE/">

    <link rel="stylesheet" href="/css/iDisqus.min.css"/>
	
    
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    
    <link rel="stylesheet" href="/css/hux-blog.min.css">

    
    <link rel="stylesheet" href="/css/zanshang.css">
    
    
    <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    
    

    
    
    <script src="/js/jquery.min.js"></script>
    
    
    <script src="/js/bootstrap.min.js"></script>
    
    
    <script src="/js/hux-blog.min.js"></script>

    
    

    
    

</head>



<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">WHW blog</a>
        </div>

        
        
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>
                    
                        
                        <li>
                            <a href="/categories/tech">tech</a>
                        </li>
                        
                    
                    
		    
                        <li><a href="/top/about/">ABOUT</a></li>
                    

                    
		    <li>
                        <a href="/search">SEARCH <img src="/img/search.png" height="15" style="cursor: pointer;" alt="Search"></a>
		    </li>
                    
                </ul>
            </div>
        </div>
        
    </div>
    
</nav>
<script>
    
    
    
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        
            $navbar.className = " ";
            
            setTimeout(function(){
                
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>




<style type="text/css">
    header.intro-header {
        background-image: url('https://dome9.com/wp-content/uploads/2018/12/gcp-banner.jpg')
    }
</style>
<header class="intro-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                        <a class="tag" href="/tags/gcp" title="GCP">
                            GCP
                        </a>
                        
                    </div>
                    <h1>Preparation of GCP certificated associate cloud engineer [WIP]</h1>
                    <h2 class="subheading"></h2>
                    <span class="meta">
                        Posted by 
                        
                            Matt Wang
                         
                        on 
                        Monday, June 15, 2020
                        
                        
                        
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>




<article>
    <div class="container">
        <div class="row">

            
            <div class="
                col-lg-11 col-lg-offset-1
                col-md-10 col-md-offset-1
                post-container">

                
                <header>
                    <h2>Content</h2>
                </header>
                <nav id="TableOfContents">
  <ul>
    <li><a href="#useful-links">Useful Links</a>
      <ul>
        <li><a href="#about-ace-certification">About ACE Certification</a></li>
        <li><a href="#online-courses">Online Courses</a></li>
        <li><a href="#practice-exams">Practice Exams</a></li>
        <li><a href="#people">People</a></li>
        <li><a href="#repos">Repos</a></li>
        <li><a href="#cheatsheets">Cheatsheets</a></li>
        <li><a href="#youtube">YouTube</a></li>
      </ul>
    </li>
    <li><a href="#notes">Notes</a>
      <ul>
        <li><a href="#sdk">SDK</a></li>
        <li><a href="#resource-management">Resource Management</a>
          <ul>
            <li><a href="#billing">Billing</a></li>
          </ul>
        </li>
        <li><a href="#gcp-hiearchy">GCP Hiearchy</a></li>
        <li><a href="#iam">IAM</a></li>
        <li><a href="#compute-resources">Compute Resources</a>
          <ul>
            <li><a href="#app-engine-gae">App Engine (GAE)</a></li>
            <li><a href="#compute-engine-gce">Compute Engine (GCE)</a></li>
            <li><a href="#kubernetes-engine-gke">Kubernetes Engine (GKE)</a></li>
          </ul>
        </li>
        <li><a href="#storage">Storage</a>
          <ul>
            <li><a href="#cloud-storage-gcs">Cloud Storage (GCS)</a></li>
          </ul>
        </li>
        <li><a href="#database-services">Database Services</a>
          <ul>
            <li><a href="#bigtable">Bigtable</a></li>
            <li><a href="#cloud-spanner">Cloud Spanner</a></li>
            <li><a href="#cloud-sql">Cloud SQL</a></li>
            <li><a href="#cloud-firestore">Cloud Firestore</a></li>
          </ul>
        </li>
        <li><a href="#network-resources">Network Resources</a>
          <ul>
            <li><a href="#vpc">VPC</a></li>
            <li><a href="#cloud-load-balancing">Cloud Load Balancing</a></li>
            <li><a href="#interconnections">Interconnections</a></li>
          </ul>
        </li>
        <li><a href="#stackdriver">Stackdriver</a></li>
        <li><a href="#big-data-platform">Big Data Platform</a>
          <ul>
            <li><a href="#cloud-dataproc">Cloud Dataproc</a></li>
            <li><a href="#cloud-dataflow">Cloud Dataflow</a></li>
            <li><a href="#bigquery">BigQuery</a></li>
            <li><a href="#cloud-pubsub">Cloud Pub/Sub</a></li>
            <li><a href="#cloud-datalab">Cloud Datalab</a></li>
          </ul>
        </li>
        <li><a href="#cloud-marketplace">Cloud Marketplace</a></li>
        <li><a href="#deployment-manager">Deployment Manager</a></li>
      </ul>
    </li>
  </ul>
</nav>
                
                <h1 id="useful-links">Useful Links</h1>
<h2 id="about-ace-certification">About ACE Certification</h2>
<ul>
<li><a href="https://cloud.google.com/certification/cloud-engineer">Exam Overview</a></li>
<li><a href="https://cloud.google.com/certification/guides/cloud-engineer">Official Exam Guide</a></li>
<li><a href="https://cloud.google.com/training">Google Cloud Training</a></li>
</ul>
<h2 id="online-courses">Online Courses</h2>
<table>
<thead>
<tr>
<th align="center">Name</th>
<th align="center">Platform</th>
<th align="center">Price</th>
<th align="center">Mock Exam</th>
<th align="center"></th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><a href="https://www.coursera.org/professional-certificates/cloud-engineering-gcp">Cloud Engineering with Google Cloud Professional Certificate</a></td>
<td align="center">Coursera</td>
<td align="center">$50/month</td>
<td align="center">N</td>
<td align="center">Recommended</td>
</tr>
<tr>
<td align="center"><a href="https://linuxacademy.com/course/google-cloud-certified-associate-cloud-engineer/">Google Cloud Certified Associate Cloud Engineer</a></td>
<td align="center">LinuxAcademy</td>
<td align="center">$50</td>
<td align="center">Y (50Q)</td>
<td></td>
</tr>
<tr>
<td align="center"><a href="https://www.udemy.com/course/google-cloud-associate-cloud-engineer-certification/">Ultimate Google Certified Associate Cloud Engineer 2020</a></td>
<td align="center">GCP @Udemy</td>
<td align="center">~$60</td>
<td align="center">Y (70Q)</td>
<td align="center">Mostly on sale (&lt;$15)</td>
</tr>
<tr>
<td align="center"><a href="https://www.udemy.com/course/google-certified-associate-cloud-engineer/">Google Certified Associate Cloud Engineer Certification</a></td>
<td align="center">A Cloud Guru @Udemy</td>
<td align="center">~$230</td>
<td align="center">Y (100Q)</td>
<td align="center">Mostly on sale (&lt;$20)</td>
</tr>
<tr>
<td align="center"><a href="https://google.qwiklabs.com/">Hand-on Labs@Qwiklabs</a></td>
<td align="center">Qwiklabs</td>
<td align="center">Charged by credit</td>
<td align="center">N</td>
<td align="center">Free credits are available from time to time</td>
</tr>
</tbody>
</table>
<h2 id="practice-exams">Practice Exams</h2>
<table>
<thead>
<tr>
<th align="center">Platform</th>
<th align="center">Price</th>
<th align="center"># of Questions</th>
<th align="center"></th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><a href="https://cloud.google.com/certification/practice-exam/cloud-engineer">Official Practice Exam</a></td>
<td align="center">Free</td>
<td align="center">25</td>
<td align="center">Too easy but make sure to run through this</td>
</tr>
<tr>
<td align="center"><a href="https://www.whizlabs.com/google-cloud-certified-associate-cloud-engineer/">Whizlabs</a></td>
<td align="center">$20</td>
<td align="center">150</td>
<td align="center"></td>
</tr>
<tr>
<td align="center"><a href="https://www.braincert.com/course/16818-Google-Cloud-Certified-Associate-Cloud-Engineer-Practice-Exams">BrainCert</a></td>
<td align="center">$30</td>
<td align="center">250</td>
<td align="center"></td>
</tr>
</tbody>
</table>
<h2 id="people">People</h2>
<ul>
<li>Joseph Holbrook (The Cloud Tech Guy): <a href="https://medium.com/@jholbrook2015">medium</a>, <a href="https://www.youtube.com/channel/UCLcRBsiL_BIgDdn7P6uZbnQ">YouTube</a>, <a href="https://www.udemy.com/user/joseph-holbrook/">Udemy</a></li>
</ul>
<h2 id="repos">Repos</h2>
<ul>
<li><a href="https://github.com/sathishvj/awesome-gcp-certifications/blob/master/associate-cloud-engineer.md">sathishvj/awesome-gcp-certifications</a></li>
<li><a href="https://github.com/ddneves/awesome-gcp-certifications#Google-Cloud---Associate-Cloud-Engineer">ddneves/awesome-gcp-certifications (outdated)</a></li>
</ul>
<h2 id="cheatsheets">Cheatsheets</h2>
<ul>
<li><a href="https://www.whizlabs.com/blog/gcp-cheat-sheet/">Whizlabs</a></li>
<li><a href="https://github.com/Viniciuscoding/granja_Google_Associate_Cloud_Engineer">Viniciuscoding/granja_Google_Associate_Cloud_Engineer</a></li>
<li><a href="https://github.com/WebLeash/gcp_associate_engineer/blob/master/gcloud_cheat_sheet.md">WebLeash/gcp_associate_engineer</a></li>
<li><a href="https://github.com/TiagoGouvea/google-cloud-associate-cloud-engineer-preparation">TiagoGouvea/google-cloud-associate-cloud-engineer-preparation</a></li>
<li><a href="https://github.com/DRpandaMD/gcp-certified-associate-cloud-engineer-2020">DRpandaMD/gcp-certified-associate-cloud-engineer-2020</a></li>
<li><a href="https://medium.com/@shekharsarker84/notes-from-my-google-cloud-certification-exam-9ac056105121">Shekhar Sarker: Notes from my Google Cloud Certification Exam</a></li>
<li><a href="https://medium.com/@charles_j/how-i-passed-the-google-cloud-associate-engineer-certification-63a0fd932057">Charles.J@medium</a>: <a href="https://docs.google.com/document/d/1u6pXBiGMYj7ZLBN21x6jap11rG6gWk7n210hNnUzrkI/edit">ACE Study Note</a></li>
</ul>
<h2 id="youtube">YouTube</h2>
<ul>
<li><a href="https://www.youtube.com/playlist?list=PLQMsfKRZZviRwqJwNmh1eAWnRMvlrk40x">sathishvj: AwesomeGCP</a></li>
</ul>
<h1 id="notes">Notes</h1>

<script src="/js/mindmap.min.js"></script>
<script src="/js/kity.min.js"></script>
<script src="/js/kityminder.core.min.js"></script>


<link rel="stylesheet" href="/css/mindmap.css" />


<div id="" class="mindmap mindmap-lg">
    <ul>
<li>GCP
<ul>
<li>Network Resources
<ul>
<li>VPC
<ul>
<li>Network</li>
<li>Subnet</li>
<li>IP</li>
</ul>
</li>
<li>Load Balancer
<ul>
<li>HTTP(S)</li>
<li>SSL Proxy</li>
<li>TCP Proxy</li>
<li>Regional</li>
<li>Multi-Regional</li>
</ul>
</li>
<li>VPN &amp; Peering &amp; Interconnect</li>
</ul>
</li>
<li>Compute Services
<ul>
<li>Compute Engine (GCE)
<ul>
<li>Disk type
<ul>
<li>persistent
<ul>
<li>HDD/SSD</li>
</ul>
</li>
<li>Local SSD</li>
</ul>
</li>
<li>Instance template</li>
<li>Instance group</li>
</ul>
</li>
<li>App Engine (GAE)
<ul>
<li>Standard</li>
<li>Flexible</li>
</ul>
</li>
<li>Kubernetes Engine (GKE)</li>
<li>Cloud Function</li>
</ul>
</li>
<li>Storage
<ul>
<li>Data warehouse
<ul>
<li>BigQuery</li>
</ul>
</li>
<li>Database
<ul>
<li>NoSQL
<ul>
<li>BigTable</li>
<li>Cloud Firestore
<ul>
<li>Datastore mode</li>
<li>Native mode</li>
</ul>
</li>
</ul>
</li>
<li>Relational
<ul>
<li>Cloud SQL</li>
<li>Cloud Spanner</li>
</ul>
</li>
<li>Redis/Memcache
<ul>
<li>Cloud Memorystore</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>SDK
<ul>
<li><a href="https://cloud.google.com/sdk/gcloud/reference"><code>gcloud</code></a></li>
<li><a href="https://cloud.google.com/storage/docs/gsutil/commands/acl"><code>gsutil</code></a></li>
<li><a href="https://cloud.google.com/bigquery/docs/reference/bq-cli-reference#command-specific_flags"><code>bq</code></a></li>
</ul>
</li>
<li>Stackdriver
<ul>
<li>Monitoring</li>
<li>Logging</li>
<li>Debug</li>
<li>Error reporting</li>
<li>Trace</li>
</ul>
</li>
<li>Big data services
<ul>
<li>BigQuery</li>
<li>Cloud Dataproc</li>
<li>Cloud Dataflow</li>
<li>Cloud Pub/Sub</li>
<li>Cloud Datalab</li>
</ul>
</li>
</ul>
</li>
</ul>

</div>

<h2 id="sdk">SDK</h2>
<ul>
<li><a href="https://cloud.google.com/sdk/#Quick_Start">Cloud SDK installation and quick start</a></li>
<li><a href="https://cloud.google.com/sdk/gcloud/">gcloud tool guide</a></li>
<li><a href="https://cloud.google.com/sdk/gcloud/reference"><code>gcloud</code> command</a></li>
<li><a href="https://cloud.google.com/storage/docs/gsutil/commands/acl"><code>gsutil</code> command</a></li>
<li><a href="https://cloud.google.com/bigquery/docs/reference/bq-cli-reference#command-specific_flags"><code>bq</code> command</a></li>
</ul>
<h2 id="resource-management">Resource Management</h2>
<ul>
<li>Resource Hierarchy
<ul>
<li>Global
<ul>
<li>Images</li>
<li>Snapshots</li>
<li>Networks</li>
</ul>
</li>
<li>Regional
<ul>
<li>External IP addr.</li>
</ul>
</li>
<li>Zonal
<ul>
<li>Instances</li>
<li>Disks</li>
</ul>
</li>
</ul>
</li>
<li>label vs tag
<ul>
<li>
<table>
<thead>
<tr>
<th align="center">label</th>
<th align="center">tag</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">user-defined kv pair</td>
<td align="center">user-defined string</td>
</tr>
<tr>
<td align="center">propagated through billing</td>
<td align="center">firewall rules</td>
</tr>
</tbody>
</table>
</li>
</ul>
</li>
</ul>
<h3 id="billing">Billing</h3>
<ul>
<li><a href="https://cloud.google.com/billing/docs/">Docs - Billing</a></li>
<li><a href="https://cloud.google.com/products/calculator/">Pricing Calculator</a></li>
<li>Four tools
<ul>
<li>Budget &amp; Alerts</li>
<li>Billing export -&gt; to <a href="https://cloud.google.com/billing/docs/how-to/export-data-bigquery">BQ</a> or <a href="https://cloud.google.com/billing/docs/how-to/export-data-file">Cloud Storage</a></li>
<li>Reports</li>
<li>Quotas
<ul>
<li>types
<ul>
<li>Rate Quotas: e.g. GKE API: 1000 requests per 100 sec</li>
<li>Allocation Quotas: e.g. 5 networks per project</li>
</ul>
</li>
<li>can be canged on quota page</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="gcp-hiearchy">GCP Hiearchy</h2>
<ul>
<li>Organization (-Folder (- Folder)) - Project - Resource</li>
<li>Policies are inherited downwards</li>
</ul>

<link rel="stylesheet" href="/css/hugo-easy-gallery.css" />
<div class="box" style="max-width:500px">
  <figure  itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">
    <div class="img">
      <img itemprop="thumbnail" src="https://cloud.google.com/resource-manager/img/cloud-folders-hierarchy.png" />
    </div>
    <a href="https://cloud.google.com/resource-manager/img/cloud-folders-hierarchy.png" itemprop="contentUrl"></a>
  </figure>
</div>

<table>
<thead>
<tr>
<th align="center">Project ID</th>
<th align="center">Project name</th>
<th align="center">Project number</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">globally unique</td>
<td align="center">not need to be unique</td>
<td align="center">globally unique</td>
</tr>
<tr>
<td align="center">user defined</td>
<td align="center">user defined</td>
<td align="center">assigned by GCP</td>
</tr>
<tr>
<td align="center">immutable</td>
<td align="center">mutable</td>
<td align="center">immutable</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#6272a4"># set default project</span>
gcloud config <span style="color:#8be9fd;font-style:italic">set</span> project &lt;project id&gt;
</code></pre></div><h2 id="iam">IAM</h2>
<ul>
<li><code>Who</code> <code>can do what</code> <code>on which resource</code></li>
<li>3 types of IAM Roles:
<ul>
<li><strong>Primitive</strong>
<ul>
<li>Owner: invite/remove members, delete project</li>
<li>Editor: deploy/modified/configure</li>
<li>Viewer: read-only</li>
<li>Billing Administrator: control billing but not affect projects</li>
</ul>
</li>
<li><strong>Predefined</strong></li>
<li><strong>Custom</strong></li>
</ul>
</li>
<li>Services Account
<ul>
<li>Authentication for services</li>
<li>Use email addr. &amp; cryptographic keys</li>
</ul>
</li>
<li>commands
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#6272a4"># add IAM policy binding for a project</span>
gcloud projects add-iam-policy-binding --member<span style="color:#ff79c6">=(</span>user|group|serviceAccount:email<span style="color:#ff79c6">)</span> --role<span style="color:#ff79c6">=</span>ROLE
</code></pre></div></li>
<li>IAM policy (<a href="https://cloud.google.com/iam/docs/reference/rest/v1/Policy">doc</a>)
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#6272a4"># sample IAM policy</span>
<span style="color:#ff79c6">{</span>
  <span style="color:#f1fa8c">&#34;bindings&#34;</span>: <span style="color:#ff79c6">[</span>
    <span style="color:#ff79c6">{</span>
      <span style="color:#f1fa8c">&#34;role&#34;</span>: <span style="color:#f1fa8c">&#34;roles/resourcemanager.organizationAdmin&#34;</span>,
      <span style="color:#f1fa8c">&#34;members&#34;</span>: <span style="color:#ff79c6">[</span>
        <span style="color:#f1fa8c">&#34;user:mike@example.com&#34;</span>,
        <span style="color:#f1fa8c">&#34;group:admins@example.com&#34;</span>,
        <span style="color:#f1fa8c">&#34;domain:google.com&#34;</span>,
        <span style="color:#f1fa8c">&#34;serviceAccount:my-project-id@appspot.gserviceaccount.com&#34;</span>
      <span style="color:#ff79c6">]</span>
    <span style="color:#ff79c6">}</span>,
    <span style="color:#ff79c6">{</span>
      <span style="color:#f1fa8c">&#34;role&#34;</span>: <span style="color:#f1fa8c">&#34;roles/resourcemanager.organizationViewer&#34;</span>,
      <span style="color:#f1fa8c">&#34;members&#34;</span>: <span style="color:#ff79c6">[</span>
        <span style="color:#f1fa8c">&#34;user:eve@example.com&#34;</span>
      <span style="color:#ff79c6">]</span>,
      <span style="color:#f1fa8c">&#34;condition&#34;</span>: <span style="color:#ff79c6">{</span>
        <span style="color:#f1fa8c">&#34;title&#34;</span>: <span style="color:#f1fa8c">&#34;expirable access&#34;</span>,
        <span style="color:#f1fa8c">&#34;description&#34;</span>: <span style="color:#f1fa8c">&#34;Does not grant access after Sep 2020&#34;</span>,
        <span style="color:#f1fa8c">&#34;expression&#34;</span>: <span style="color:#f1fa8c">&#34;request.time &lt; timestamp(&#39;2020-10-01T00:00:00.000Z&#39;)&#34;</span>,
      <span style="color:#ff79c6">}</span>
    <span style="color:#ff79c6">}</span>
  <span style="color:#ff79c6">]</span>,
  <span style="color:#f1fa8c">&#34;etag&#34;</span>: <span style="color:#f1fa8c">&#34;BwWWja0YfJA=&#34;</span>,
  <span style="color:#f1fa8c">&#34;version&#34;</span>: <span style="color:#bd93f9">3</span>
<span style="color:#ff79c6">}</span>
</code></pre></div></li>
<li>audit log: logs of Admin Activity, Data Access, and System Event
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#6272a4"># read audit log, `project` can be changed to `folder` or `organization`</span>
gcloud logging <span style="color:#8be9fd;font-style:italic">read</span> <span style="color:#f1fa8c">&#34;logName : projects/project-id/logs/cloudaudit.googleapis.com&#34;</span> --project<span style="color:#ff79c6">=</span>project-id
</code></pre></div></li>
<li>Resource manager roles
<ul>
<li>organization
<ul>
<li>Admin: full control over all resources</li>
<li>Viewer: view access to all resources</li>
</ul>
</li>
<li>folder
<ul>
<li>Admin: full control over folders</li>
<li>Creator: browse hierarchy and create folder</li>
<li>Viewer: view folders and projects below a resources</li>
</ul>
</li>
<li>project
<ul>
<li>Creator: create projects</li>
<li>Deleter: delete projects</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li><a href="https://cloud.google.com/iam/docs/">Docs</a></li>
<li><a href="https://cloud.google.com/iam/docs/understanding-roles">Docs - Understanding IAM roles</a></li>
<li><a href="https://www.coursera.org/learn/gcp-infrastructure-core-services/lecture/xghL2/cloud-iam-best-practices">Best Practices</a></li>
<li><a href="https://cloud.google.com/identity/">Google Cloud Identity</a></li>
<li><a href="https://cloud.google.com/iam/docs/understanding-service-accounts">Understanding Service Accounts</a></li>
<li><a href="https://cloud.google.com/logging/docs/audit/">Cloud Audit Logging overview</a></li>
<li><a href="https://www.qwiklabs.com/quests/40">Security and Identity Fundamentals Quest</a></li>
</ul>
<h2 id="compute-resources">Compute Resources</h2>
<ul>
<li><a href="https://www.coursera.org/learn/preparing-cloud-associate-cloud-engineer-exam/lecture/1VqS2/planning-and-configuring-compute-resources">Brief Comparison: App Engine, Compute Engine, GKE</a></li>
<li><a href="https://cloud.google.com/blog/products/gcp/choosing-the-right-compute-option-in-gcp-a-decision-tree">Related Blogpost from GCP</a></li>
<li><a href="https://cloud.google.com/hosting-options">Product page - hosting options</a></li>
</ul>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">GCE</th>
<th align="center">GKE</th>
<th align="center">GAE-standard</th>
<th align="center">GAE-flexible</th>
<th align="center">Cloud Functions</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">Lang</td>
<td align="center">Any</td>
<td align="center">Any</td>
<td align="center">Python, Node.js, Go, Java, PHP</td>
<td align="center">Python, Node.js, Go, Java, PHP, Ruby, .NET, Custom Runtime</td>
<td align="center">Python, Node.js, Go</td>
</tr>
<tr>
<td align="center">Scaling</td>
<td align="center">server autoscaling</td>
<td align="center">cluster</td>
<td align="center">autoscaling managed servers</td>
<td align="center">autoscaling managed servers</td>
<td align="center">serverless</td>
</tr>
<tr>
<td align="center">Use case</td>
<td align="center">general</td>
<td align="center">container workloads</td>
<td align="center">scalable web app, mobile backend app</td>
<td align="center">scalable web app, mobile backend app</td>
<td align="center">light-weightevent actions</td>
</tr>
</tbody>
</table>
<h3 id="app-engine-gae">App Engine (GAE)</h3>
<ul>
<li><a href="https://cloud.google.com/source-repositories/docs/">Docs - Cloud Source</a></li>
<li><a href="https://cloud.google.com/appengine/docs/standard/python/how-instances-are-managed">Docs - How instances are managed</a></li>
</ul>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">Standard</th>
<th align="center">Flexible</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">Language</td>
<td align="center">Java, Python, Go, PHP</td>
<td align="center">any</td>
</tr>
<tr>
<td align="center">Instance startup</td>
<td align="center">milli-secs</td>
<td align="center">minutes</td>
</tr>
<tr>
<td align="center">SSH</td>
<td align="center">N</td>
<td align="center">Y</td>
</tr>
<tr>
<td align="center">3rd-party lib</td>
<td align="center">N</td>
<td align="center">Y</td>
</tr>
<tr>
<td align="center">Pricing model</td>
<td align="center">after free daily use, pay per instance class, w/ auto-shutdown</td>
<td align="center">Pay for resource alloc. per hour, no auto-shutdown</td>
</tr>
<tr>
<td align="center">other</td>
<td align="center">all requests timeout is 60 sec</td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#6272a4"># migrate the service to new version</span>
gcloud app versions migrate v2 --service<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;s1&#34;</span>
<span style="color:#6272a4"># split traffic evenly between &#39;v1&#39; and &#39;v2&#39; of service &#39;s1&#39;, run:</span>
gcloud app services set-traffic s1 --splits <span style="color:#8be9fd;font-style:italic">v2</span><span style="color:#ff79c6">=</span>.5,v1<span style="color:#ff79c6">=</span>.5
<span style="color:#6272a4"># deploy but send no traffic</span>
gcloud app deploy --no-promote
</code></pre></div></li>
</ul>
<h3 id="compute-engine-gce">Compute Engine (GCE)</h3>
<ul>
<li><a href="https://cloud.google.com/compute/docs/">Docs</a></li>
<li>Iaas</li>
<li>Features
<ul>
<li>choose vCPUs &amp; memory</li>
<li>Networking</li>
<li>Access
<ul>
<li>Linux: SSH (tcp:22)</li>
<li>Windows: RDP (tcp:3389)</li>
</ul>
</li>
<li>metadata server
<ul>
<li>e.g. <code>startup-script-url</code> &amp; <code>shutdown-script-url</code></li>
<li>fetch instance metadata from application (<a href="https://cloud.google.com/compute/docs/storing-retrieving-metadata#querying">doc</a>)
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">curl metadata.google.internal/computeMetadata/v1/
</code></pre></div></li>
</ul>
</li>
<li>OS images - <a href="https://cloud.google.com/compute/docs/images">Docs</a>
<ul>
<li>Choose between
<ul>
<li>public base images</li>
<li>custom images</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>machine types
<ul>
<li>predefined
<ul>
<li>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">standard</th>
<th align="center">high-memory</th>
<th align="center">high-CPU</th>
<th align="center">memory-optimized</th>
<th align="center">compute-optimized</th>
<th align="center">shared-core</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">name</td>
<td align="center"><code>n1-standard-&lt;N&gt;</code></td>
<td align="center"><code>n1-highmem-&lt;N&gt;</code></td>
<td align="center"><code>n1-highcpu-&lt;N&gt;</code></td>
<td align="center"><code>n1-ultramem-&lt;N&gt;</code></td>
<td align="center"><code>c2-standard-&lt;N&gt;</code></td>
<td align="center"><code>f1-micro</code>, <code>g1-small</code></td>
</tr>
<tr>
<td align="center">mem/vCPU ratio</td>
<td align="center">3.75GB</td>
<td align="center">6.5GB</td>
<td align="center">0.9GB</td>
<td align="center">~24GB</td>
<td align="center">4GB</td>
<td align="center"></td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">new platform</td>
<td align="center">for small intensive app</td>
</tr>
</tbody>
</table>
</li>
<li>(<code>N</code> indicates # of vCPUs)</li>
</ul>
</li>
<li>custom
<ul>
<li>number of vCPU = 2^n (n = 0, 1, 2,&hellip;)</li>
<li>memory must in (0.9, 6.5) GB per vCPU</li>
<li>total memory must be multiple of 256MB</li>
<li>extend memory -&gt; provide higher memory/vCPU ratio with additional cost</li>
</ul>
</li>
</ul>
</li>
<li>disk:
<ul>
<li><strong>persistent</strong>: up to 128 disks x 0.5TB (64TB in total)
<ul>
<li><strong>HDD</strong> (standard) &amp; <strong>SSD</strong></li>
<li>resize while running</li>
<li>encryption keys</li>
<li>snapshot for backup - <a href="https://cloud.google.com/compute/docs/disks/create-snapshots">Docs - Create Snapshot</a></li>
</ul>
</li>
<li><strong>local SSD</strong>: up to 8disk x 375GB (3TB in total)</li>
<li>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">HDD</th>
<th align="center">SSD</th>
<th align="center">local SSD</th>
<th align="center">RAM Disk</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">data redundency</td>
<td align="center">Y</td>
<td align="center">Y</td>
<td align="center">N</td>
<td align="center">N</td>
</tr>
<tr>
<td align="center">encryption at rest</td>
<td align="center">Y</td>
<td align="center">Y</td>
<td align="center">Y</td>
<td align="center">N/A</td>
</tr>
<tr>
<td align="center">snapshotting</td>
<td align="center">Y</td>
<td align="center">Y</td>
<td align="center">N</td>
<td align="center">N</td>
</tr>
<tr>
<td align="center">bootable</td>
<td align="center">Y</td>
<td align="center">Y</td>
<td align="center">N</td>
<td align="center">N</td>
</tr>
<tr>
<td align="center">use case</td>
<td align="center">general, bulk file store</td>
<td align="center">random IOPS</td>
<td align="center">high IOPS, low latency</td>
<td align="center">low latency &amp; risk of data loss</td>
</tr>
</tbody>
</table>
</li>
</ul>
</li>
<li>Billing
<ul>
<li>per-second billing (with minimum of 1-min cost)</li>
<li>each vCPU &amp; GB of memory is billed separately</li>
<li>discount
<ul>
<li>sustained use (monthly-based)</li>
<li>committed use (1-3 years)</li>
<li>preemptible
<ul>
<li>cost reduced up to 80%</li>
<li>live up to 24 hour</li>
<li>no auto-restart</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#6272a4"># create an instance</span>
gcloud compute instances create --machine-type<span style="color:#ff79c6">=</span>&lt;machine-type&gt; &lt;instance_name&gt;
<span style="color:#6272a4"># move an instance to another zone within same region</span>
gcloud compute instances move &lt;instance_name&gt;
</code></pre></div><ul>
<li>move instance to another region
<ul>
<li>make snapshot of persistent disk</li>
<li>create new persistent disk in target zones by restoring from snapshot</li>
<li>create VMs in target zones</li>
<li>assign static IP, update the VM&rsquo;s references, and then delete the original VM</li>
</ul>
</li>
</ul>
<h4 id="instance-group">Instance Group</h4>
<ul>
<li><a href="https://cloud.google.com/compute/docs/instance-groups/">Docs - Instance Group</a></li>
<li><a href="https://cloud.google.com/compute/docs/instance-templates/">Docs - Instance Template</a></li>
<li><a href="https://cloud.google.com/compute/docs/instances/create-vm-from-instance-template">Docs - Create VM from Template</a></li>
<li><a href="https://cloud.google.com/compute/docs/instance-groups/creating-groups-of-managed-instances">Docs - Create Groups of Managed Instances</a></li>
</ul>
<h4 id="autoscaling">Autoscaling</h4>
<ul>
<li><a href="https://cloud.google.com/compute/docs/autoscaler/">Docs - Autoscaling</a></li>
</ul>
<h3 id="kubernetes-engine-gke">Kubernetes Engine (GKE)</h3>
<ul>
<li><a href="https://cloud.google.com/kubernetes-engine/docs">Docs</a></li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#6272a4"># create cluster</span>
gcloud container clusters create &lt;name&gt;

<span style="color:#6272a4"># Add node to node pool (scale)</span>
gcloud container clusters resize --num-nodes<span style="color:#ff79c6">=</span><span style="color:#bd93f9">3</span>

<span style="color:#6272a4"># scale a deployment</span>
kubectl scale &lt;service&gt; --replica<span style="color:#ff79c6">=</span><span style="color:#bd93f9">3</span>

<span style="color:#6272a4"># auto scale</span>
kubectl autoscale &lt;service&gt; --min<span style="color:#ff79c6">=</span><span style="color:#bd93f9">10</span> --max<span style="color:#ff79c6">=</span><span style="color:#bd93f9">15</span> --cpu<span style="color:#ff79c6">=</span><span style="color:#bd93f9">80</span>
</code></pre></div><h2 id="storage">Storage</h2>
<ul>
<li><a href="https://www.coursera.org/learn/preparing-cloud-associate-cloud-engineer-exam/lecture/w16oO/planning-and-configuring-data-storage">Brief Intro</a></li>
<li><a href="https://www.coursera.org/learn/preparing-cloud-associate-cloud-engineer-exam/lecture/oKobq/deploying-and-implementing-data-solutions">Comparison</a></li>
<li><a href="https://cloud.google.com/products/storage">Product page - Cloud Storage</a></li>
</ul>
<h3 id="cloud-storage-gcs">Cloud Storage (GCS)</h3>
<ul>
<li>Fully-managed scalable -&gt; no manually provisioning is needed</li>
<li>Not a filesystem</li>
<li>Always encrypted with HTTPS</li>
<li><code>gsutil</code> is frequently used</li>
<li>Can enable versioning
<ul>
<li>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">gsutil versioning <span style="color:#8be9fd;font-style:italic">set</span> <span style="color:#ff79c6">(</span>on|off<span style="color:#ff79c6">)</span> gs://&lt;bucket_name&gt;
</code></pre></div></li>
</ul>
</li>
<li>Data transfer
<ul>
<li>resumable by default</li>
<li><code>-m</code> for transfering in parallel:
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">gsutil -m cp -p file gs://bucket/object
</code></pre></div></li>
<li>Use BOTO file for additional configuration - <a href="https://cloud.google.com/storage/docs/gsutil/commands/config">doc</a></li>
<li>Streaming upload/download with <code>-I</code> option (<a href="https://cloud.google.com/storage/docs/gsutil/commands/cp">doc</a>)
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">some_program | gsutil -m cp -I gs://my-bucket
</code></pre></div></li>
</ul>
</li>
<li>ACL (Access Control Lists)
<ul>
<li>e.g.
<ul>
<li>e-mail</li>
<li>allUsers</li>
<li>allAuthenticatedUsers</li>
</ul>
</li>
<li>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#6272a4"># set ACL</span>
gsutil acl <span style="color:#8be9fd;font-style:italic">set</span> private gs://bucket
<span style="color:#6272a4"># Change ACL for all users to have read access (O for owner, W for write, R for read)</span>
gsutil acl ch -u AllUsers:R gs://example-bucket/example-object
</code></pre></div></li>
</ul>
</li>
<li>signed URL
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#6272a4"># duration = 10 minutes</span>
gsutil signurl -d 10m /path/to/key gs://bucket/object
</code></pre></div></li>
</ul>
<h4 id="storage-class">Storage Class</h4>
<ul>
<li><a href="https://cloud.google.com/storage/docs/storage-classes">Docs - Storage Classes</a></li>
<li>Regional or Multi-regional can be changed to Nearline or Coldline</li>
<li>Regional cannot be changed to Multi-regional and vice versa</li>
</ul>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">Multi-Regional</th>
<th align="center">Regional</th>
<th align="center">Nearline</th>
<th align="center">Coldline</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">Data that is</td>
<td align="center">Frequently access</td>
<td align="center">Freqenctly access within region</td>
<td align="center">Access less than once per month</td>
<td align="center">Access less than once per year</td>
</tr>
<tr>
<td align="center">SLA</td>
<td align="center">99.95%</td>
<td align="center">99.90%</td>
<td align="center">99%</td>
<td align="center">99%</td>
</tr>
<tr>
<td align="center">Storage Price</td>
<td align="center">$$$$</td>
<td align="center">$$$</td>
<td align="center">$$</td>
<td align="center">$</td>
</tr>
<tr>
<td align="center">Retrieval Price</td>
<td align="center">$</td>
<td align="center">$</td>
<td align="center">$$</td>
<td align="center">$$$</td>
</tr>
<tr>
<td align="center">Use cases</td>
<td align="center">Content storage &amp; delivery</td>
<td align="center">In-region analytics, GCE/GKE-related data</td>
<td align="center">Long-tail content, backup</td>
<td align="center">Archiving, disaster recovery</td>
</tr>
<tr>
<td align="center">minimum duration</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">30 days</td>
<td align="center">90 days</td>
</tr>
</tbody>
</table>
<h4 id="lifecycle">Lifecycle</h4>
<ul>
<li><a href="https://cloud.google.com/storage/docs/lifecycle">Docs - Lifecycle</a></li>
<li>e.g.
<ul>
<li>delete objects older than XXX days</li>
<li>delete objects created before &lt;Date&gt;</li>
<li>keep N latest version only</li>
</ul>
</li>
<li>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">gsutil lifecycle <span style="color:#8be9fd;font-style:italic">set</span> &lt;config-json-file&gt; gs://bucket
</code></pre></div></li>
<li>config file example
<ul>
<li>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#6272a4"># Move object from multi regional to COLDLINE in 30 days and delete after 300 days after creation</span>
<span style="color:#ff79c6">{</span>
  <span style="color:#f1fa8c">&#34;lifecycle&#34;</span>: <span style="color:#ff79c6">{</span>
    <span style="color:#f1fa8c">&#34;rule&#34;</span>: <span style="color:#ff79c6">[</span>
      <span style="color:#ff79c6">{</span>
        <span style="color:#f1fa8c">&#34;action&#34;</span>: <span style="color:#ff79c6">{</span>
          <span style="color:#f1fa8c">&#34;type&#34;</span>: <span style="color:#f1fa8c">&#34;SetStorageClass&#34;</span>,
          <span style="color:#f1fa8c">&#34;storageClass&#34;</span>: <span style="color:#f1fa8c">&#34;COLDLINE&#34;</span>
        <span style="color:#ff79c6">}</span>,
        <span style="color:#ff79c6">{</span>
          <span style="color:#f1fa8c">&#34;condition&#34;</span>: <span style="color:#ff79c6">{</span>
            <span style="color:#f1fa8c">&#34;age&#34;</span>: 30,
            <span style="color:#f1fa8c">&#34;matchesStorageClass&#34;</span>: <span style="color:#ff79c6">[</span><span style="color:#f1fa8c">&#34;MULTI_REGIONAL&#34;</span>, <span style="color:#f1fa8c">&#34;STANDARD&#34;</span>, <span style="color:#f1fa8c">&#34;DURABLE_REDUCED_AVAILABILITY&#34;</span><span style="color:#ff79c6">]</span>
          <span style="color:#ff79c6">}</span>
        <span style="color:#ff79c6">}</span>
      <span style="color:#ff79c6">}</span>,
      <span style="color:#ff79c6">{</span>
        <span style="color:#f1fa8c">&#34;action&#34;</span>: <span style="color:#ff79c6">{</span>
          <span style="color:#f1fa8c">&#34;type&#34;</span>: <span style="color:#f1fa8c">&#34;Delete&#34;</span>
        <span style="color:#ff79c6">}</span>,
        <span style="color:#f1fa8c">&#34;condition&#34;</span>: <span style="color:#ff79c6">{</span>
          <span style="color:#f1fa8c">&#34;age&#34;</span>: 270,
          <span style="color:#f1fa8c">&#34;storageClass&#34;</span>: <span style="color:#f1fa8c">&#34;COLDLINE&#34;</span>
        <span style="color:#ff79c6">}</span>
      <span style="color:#ff79c6">}</span>
    <span style="color:#ff79c6">]</span>
  <span style="color:#ff79c6">}</span>
<span style="color:#ff79c6">}</span>
</code></pre></div></li>
</ul>
</li>
</ul>
<h2 id="database-services">Database Services</h2>
<ul>
<li>Data storage comparison
<ul>
<li>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">Cloud Datastore</th>
<th align="center">Bigtable</th>
<th align="center">Cloud Storage</th>
<th align="center">Cloud SQL</th>
<th align="center">Cloud Spanner</th>
<th align="center">BigQuery</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">Type</td>
<td align="center">NoSQL Document</td>
<td align="center">NoSQL wide-column</td>
<td align="center">Blobstore</td>
<td align="center">Relational SQL for OLTP</td>
<td align="center">Relational SQL for OLTP</td>
<td align="center">Relational SQL for OLAP</td>
</tr>
<tr>
<td align="center">Transaction</td>
<td align="center">Y</td>
<td align="center">Single-row</td>
<td align="center">N</td>
<td align="center">Y</td>
<td align="center">Y</td>
<td align="center">N</td>
</tr>
<tr>
<td align="center">Complex query</td>
<td align="center">N</td>
<td align="center">N</td>
<td align="center">N</td>
<td align="center">Y</td>
<td align="center">Y</td>
<td align="center">Y</td>
</tr>
<tr>
<td align="center">Capacity</td>
<td align="center">TB+</td>
<td align="center">Pb+</td>
<td align="center">Pb+</td>
<td align="center">TB</td>
<td align="center">Pb</td>
<td align="center">Pb+</td>
</tr>
<tr>
<td align="center">Unit Size</td>
<td align="center">1Mb/entity</td>
<td align="center">~10Mb/cell, ~100Mb/row</td>
<td align="center">5TB/object</td>
<td align="center">determined by engine</td>
<td align="center">10240MiB/row</td>
<td align="center">10Mb/row</td>
</tr>
<tr>
<td align="center">Best for</td>
<td align="center">Semi-structured app data</td>
<td align="center">analytical data, heavy read/write</td>
<td align="center"></td>
<td align="center">Web app</td>
<td align="center">Large-scale app</td>
<td align="center">interactive querying, offline analytics</td>
</tr>
<tr>
<td align="center">Use Case</td>
<td align="center">App</td>
<td align="center">IoT, AddTech</td>
<td align="center">Images, media files</td>
<td align="center"></td>
<td align="center">High I/O, global consistency is needed</td>
<td align="center">Data warehouse</td>
</tr>
<tr>
<td align="center"></td>
<td align="center">SQL-like query, free daily quota</td>
<td align="center">Same API with HBase, user can increase # of instance</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</li>
</ul>
</li>
<li>Decision chart
<ul>
<li>data structured?
<ul>
<li>No -&gt; <strong>Cloud Storage</strong></li>
<li>Yes -&gt; Analytic workload?
<ul>
<li>Yes -&gt; need updates or low latency
<ul>
<li>Yes -&gt; <strong>BigTable</strong></li>
<li>No -&gt; <strong>BigQuery</strong></li>
</ul>
</li>
<li>No -&gt; Relational data?
<ul>
<li>No -&gt; <strong>Cloud Firestore</strong></li>
<li>Yes -&gt; Need horizontal scale
<ul>
<li>Yes -&gt; <strong>Cloud Spanner</strong></li>
<li>No -&gt; <strong>Cloud SQL</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="bigtable">Bigtable</h3>
<ul>
<li>Feats
<ul>
<li>scale to PB</li>
<li>Low latency (sub 10ms)</li>
<li>Auto update index for frequently accessed data -&gt; balance workload between nodes</li>
</ul>
</li>
</ul>
<h3 id="cloud-spanner">Cloud Spanner</h3>
<ul>
<li>Feats
<ul>
<li>scale to PB</li>
<li>Strong consistency</li>
<li>HA</li>
</ul>
</li>
</ul>
<h3 id="cloud-sql">Cloud SQL</h3>
<ul>
<li>MySQL/PostgreSQL</li>
<li>Auto replication
<ul>
<li>Vertical scaling (machine type)</li>
<li>(weak) Horizontal scaling (# of instaces)</li>
</ul>
</li>
<li><code>gcloud sql</code></li>
</ul>
<h3 id="cloud-firestore">Cloud Firestore</h3>
<ul>
<li>2 modes:
<ul>
<li>Datastore mode -&gt; server</li>
<li>Native mode -&gt; mobile &amp; web app</li>
</ul>
</li>
</ul>
<h2 id="network-resources">Network Resources</h2>
<h3 id="vpc">VPC</h3>
<ul>
<li><a href="https://cloud.google.com/vpc/docs/using-vpc">Docs</a></li>
<li>Contained in a project</li>
<li><strong>VPC has global scope</strong> but <strong>subnets are regional</strong> (and cross zones)</li>
<li>Important features
<ul>
<li>built-in route table</li>
<li>built-in global distributed firewall</li>
</ul>
</li>
</ul>
<h4 id="netowrks">Netowrks</h4>
<ul>
<li>Default quota: 5 networks in a project</li>
<li>Has no IP range</li>
<li>Global and span all regions</li>
<li>Contains <strong>subnetworks</strong></li>
<li>Types:
<ul>
<li>Default
<ul>
<li>one subnet per region</li>
<li>default firewall rules: allow all ingress from ICMP, RDP &amp; SSH and all internal traffic</li>
</ul>
</li>
<li>auto-mode
<ul>
<li>one subnet per region</li>
<li>regional IP alloc. (cannot overlapped with other subnets in the same network)</li>
<li>/20 mask (can be expanded up to /16)</li>
<li>all in 10.128.0.0/9</li>
<li>default firewall rules: deny all ingress, allow all egress</li>
</ul>
</li>
<li>custom-mode
<ul>
<li>no default subnets</li>
<li>full control of IP ranges</li>
<li>regional IP alloc.</li>
</ul>
</li>
</ul>
</li>
<li>Conversion
<ul>
<li>OK: default/auto -&gt; custom</li>
<li>No: custom -&gt; default/auto</li>
</ul>
</li>
<li>Communication
<ul>
<li>VMs in same network: using internal IP</li>
<li>VMs in different network (even in same region): using external IP by default</li>
</ul>
</li>
<li>4 reserved IP in each subnet
<ul>
<li>1st: network gateway</li>
<li>2nd: subnet gateway</li>
<li>2nd-to-last &amp; last: for broadcast</li>
</ul>
</li>
<li>example:
<ul>
<li>VMs in same subnet but different zones
<ul>
<li>still communicate with same subnet IP</li>
<li>single firewall rule can apply to both VMs</li>
</ul>
</li>
</ul>
</li>
<li>IP range of a subnet cannot be shrinked</li>
</ul>
<h4 id="ip">IP</h4>
<ul>
<li>Each VM has internal &amp; external IPs
<ul>
<li>Internal
<ul>
<li>Allocated from subnet to VM with DHCP</li>
<li>DHCP lease renew every 24h</li>
<li>Register to network-scope DNS with (VM name, IP)</li>
</ul>
</li>
<li>External
<ul>
<li>Can be
<ul>
<li>Ephemeral (assiged from pool)</li>
<li>Reserved</li>
</ul>
</li>
<li>VM does not know its external IP (mapped to internal IP)
<ul>
<li>Handled by using internal DNS resolver</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="routes--firewall-rules">Routes &amp; Firewall Rules</h4>
<ul>
<li>Every network has
<ul>
<li>routes: let instances in a network send traffic directly</li>
<li>s default route: direct packets to dest. outside the network</li>
</ul>
</li>
</ul>
<h4 id="pricing">Pricing</h4>
<ul>
<li>Network
<ul>
<li>Ingress: no charge</li>
<li>Egress with no charge:
<ul>
<li>to same zone via internal IP</li>
<li>to Google products (YouTube, map, etc.)</li>
<li>to different GCP services within same region</li>
</ul>
</li>
<li>Egress with chareg ($0.01 per GB):
<ul>
<li>to instances in another zone in the same region</li>
<li>to same zone via external IP</li>
<li>between regions in US &amp; Canada</li>
</ul>
</li>
<li>Egress between regions outside US &amp; Canada: varies by region</li>
</ul>
</li>
<li>External IP address
<ul>
<li>static IP (assigned but unused): $0.01 per hour</li>
<li>static/ephemeral IP used on standard VM: $0.004 per hour</li>
<li>static/ephemeral IP used on preemptible VM: $0.002 per hour</li>
<li>static/ephemeral IP attached to forward rules: no charge</li>
</ul>
</li>
</ul>
<h3 id="cloud-load-balancing">Cloud Load Balancing</h3>
<ul>
<li><a href="https://www.coursera.org/learn/preparing-cloud-associate-cloud-engineer-exam/lecture/BvaXg/planning-and-configuring-network-resources">Brief Intro</a></li>
<li><a href="https://cloud.google.com/load-balancing/docs">Cloud LB docs</a></li>
</ul>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">HTTP(S)</th>
<th align="center">SSL Proxy</th>
<th align="center">TCP Proxy</th>
<th align="center">Network UDP/TCP</th>
<th align="center">Internal UDP/TCP</th>
<th align="center">Internal HTTPS</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">types</td>
<td align="center">HTTP/HTTPS</td>
<td align="center">TCP with SSL load</td>
<td align="center">TCP without SSL load / doesn&rsquo;t preserver client IP</td>
<td align="center">TCP/UDP without SSL load / preserver client IP</td>
<td align="center">TCP or UDP</td>
<td align="center">HTTP or HTTPS</td>
</tr>
<tr>
<td align="center">scope</td>
<td align="center">global, IPv4/IPv6</td>
<td align="center">global, IPv4/IPv6</td>
<td align="center">global, IPv4/IPv6</td>
<td align="center">regional, IPv4</td>
<td align="center">regional, IPv4</td>
<td align="center">regional, IPv4</td>
</tr>
<tr>
<td align="center">ex/in</td>
<td align="center">external</td>
<td align="center">external</td>
<td align="center">external</td>
<td align="center">external</td>
<td align="center">internal</td>
<td align="center">internal</td>
</tr>
<tr>
<td align="center">port for LB</td>
<td align="center">HTTP:80/8080, HTTPS:443</td>
<td align="center">specific</td>
<td align="center">specific</td>
<td align="center">Any</td>
<td align="center">Any</td>
<td align="center">HTTP:80/8080, HTTPS:443</td>
</tr>
</tbody>
</table>
<h3 id="interconnections">Interconnections</h3>
<table>
<thead>
<tr>
<th align="center">Connection</th>
<th align="center">Provides</th>
<th align="center">Capacity</th>
<th align="center">Requirements</th>
<th align="center">Access Types</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">IPsec VPN tunnel</td>
<td align="center">encrypted tunnel to VPC networks throughpublic internet</td>
<td align="center">1.5-3Gbps per tunnel</td>
<td align="center">on-prem VPN-gateway</td>
<td align="center">internal IP</td>
</tr>
<tr>
<td align="center">Dedicated Interconnect</td>
<td align="center">dedicated, direct connection to VPC netwroks</td>
<td align="center">10Gbps per link (up to 8 links)</td>
<td align="center">connection in colocation facility</td>
<td align="center">internal IP</td>
</tr>
<tr>
<td align="center">Partner Interconnect</td>
<td align="center">dedicated connection to VPC through a service provider</td>
<td align="center">50Mbps-10Gbps per connection</td>
<td align="center">service provider</td>
<td align="center">internal IP</td>
</tr>
<tr>
<td align="center">Direct Peering</td>
<td align="center">dedicated, direct connection to Google&rsquo;s netwroks</td>
<td align="center">10 Gbps per link</td>
<td align="center">Connection in GCP PoPs</td>
<td align="center">public IP</td>
</tr>
<tr>
<td align="center">Carrier Peering</td>
<td align="center">Peering through Google&rsquo;s public network through provider</td>
<td align="center">varies</td>
<td align="center">service provider</td>
<td align="center">public IP</td>
</tr>
</tbody>
</table>
<ul>
<li>VPN
<ul>
<li>low volume data connections (MTU &lt; 1460 bytes)</li>
<li>static routes &amp; dynamic routes (Cloud Router, border gateway protocol (BGP))</li>
</ul>
</li>
<li>Interconnect
<ul>
<li>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">dedicated</th>
<th align="center">shared</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">L3 (via public IP)</td>
<td align="center">Direct Peering</td>
<td align="center">Carrier Peering</td>
</tr>
<tr>
<td align="center">L2 (via VLAN)</td>
<td align="center">Dedicated Interconnect</td>
<td align="center">Partner Interconnect</td>
</tr>
</tbody>
</table>
</li>
<li>Dedicated Interconnect: Need to provision an cross-connect between Google network &amp; own router, &amp; establish BGP session between Cloud Router &amp; on-premises router</li>
<li>Partner Interconnect: Need to connect to supported provider</li>
</ul>
</li>
<li>Peering
<ul>
<li>No SLA</li>
<li>Reach all Google services (GSuite, YouTube)</li>
<li>Google&rsquo;s edge points of presence (PoPs)</li>
</ul>
</li>
<li>Shared VPCs
<ul>
<li>Multiple projects share one VPC
<ul>
<li>One host project</li>
<li>Multiple service projects</li>
</ul>
</li>
<li>Centralized</li>
</ul>
</li>
<li>VPC Network Peering
<ul>
<li>Connection accross two VPC networks (no matter they are within same project/organization or not)</li>
<li>Decentralized</li>
</ul>
</li>
</ul>
<h2 id="stackdriver">Stackdriver</h2>
<ul>
<li>Monitoring</li>
<li>Logging</li>
<li>Debug</li>
<li>Error reporting</li>
<li>Trace</li>
</ul>
<ul>
<li><a href="https://www.qwiklabs.com/quests/35">Stackdriver Fundamentals Quest</a></li>
<li><a href="https://cloud.google.com/monitoring/alerts/">Docs - Intro to alerting</a></li>
<li><a href="https://cloud.google.com/monitoring/alerts/using-alerting-ui">Docs - Managing alerting policies</a></li>
</ul>
<h2 id="big-data-platform">Big Data Platform</h2>
<h3 id="cloud-dataproc">Cloud Dataproc</h3>
<ul>
<li>Based on Hadoop</li>
<li>Scale without terminating jobs</li>
<li>Reduce cost with preemptible instances</li>
</ul>
<h3 id="cloud-dataflow">Cloud Dataflow</h3>
<ul>
<li>ETL pipeline</li>
<li>Data analysis
<ul>
<li>batch computation</li>
<li>continuous computation using streaming</li>
</ul>
</li>
</ul>
<h3 id="bigquery">BigQuery</h3>
<ul>
<li>data warehouse</li>
<li>no cluster maintenance is required</li>
<li>fast query</li>
<li>pay separately for storage &amp; queries</li>
<li>reduce cost automatically if sustained usage</li>
<li>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#6272a4"># show process bytes -&gt; check price with price calculator</span>
bq query --dry_run
</code></pre></div></li>
</ul>
<h3 id="cloud-pubsub">Cloud Pub/Sub</h3>
<ul>
<li>&ldquo;At least once&rdquo; delivery</li>
</ul>
<h3 id="cloud-datalab">Cloud Datalab</h3>
<ul>
<li>Built on Python Jupyter</li>
</ul>
<h2 id="cloud-marketplace">Cloud Marketplace</h2>
<ul>
<li>Tool for fast deploying functional packages, e.g. LAMP, Wordpress</li>
<li>GCP doesn&rsquo;t update/fix the services that are already deployed</li>
</ul>
<h2 id="deployment-manager">Deployment Manager</h2>
<ul>
<li><a href="https://cloud.google.com/deployment-manager/docs/">Docs</a></li>
<li><a href="https://cloud.google.com/deployment-manager/docs/fundamentals">Docs - fundamentals</a></li>
</ul>


                

                <hr>
                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2020/06/11/first-met-hugo/" data-toggle="tooltip" data-placement="top" title="Use Hugo for the first time">&larr;
                            Previous Post</a>
                    </li>
                    
                    
                </ul>

                
<div id="disqus-comment"></div>



            </div>
            
            <div class="
                col-lg-11 col-lg-offset-1
                col-md-10 col-md-offset-1
                sidebar-container">

                
                
                <section>
                    <hr class="hidden-sm hidden-xs">
                    <h5><a href="/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
                        
                        
                        
                        <a href="/tags/course" title="course">
                            course
                        </a>
                        
                        
                        
                        <a href="/tags/cv" title="cv">
                            cv
                        </a>
                        
                        
                        
                        <a href="/tags/gcp" title="gcp">
                            gcp
                        </a>
                        
                        
                        
                        <a href="/tags/gnn" title="gnn">
                            gnn
                        </a>
                        
                        
                        
                        <a href="/tags/matlab" title="matlab">
                            matlab
                        </a>
                        
                        
                        
                        <a href="/tags/misc" title="misc">
                            misc
                        </a>
                        
                        
                        
                        <a href="/tags/slides" title="slides">
                            slides
                        </a>
                        
                        
                    </div>
                </section>
                

                
                
            </div>
        </div>
    </div>
</article>




<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                   
                   <li>
                       <a href='' rel="alternate" type="application/rss+xml" title="WHW blog" >
                           <span class="fa-stack fa-lg">
                               <i class="fa fa-circle fa-stack-2x"></i>
                               <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                           </span>
                       </a>
                   </li>
                   
                    
                    <li>
                        <a href="mailto:mattwang44@gmail.com">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		    
                    
                    
                    
                    

                    
                    <li>
                        <a target="_blank" href="https://www.facebook.com/profile.php?id=100000194291071">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		    

		    
                    
                    
                    <li>
                        <a target="_blank" href="https://github.com/mattwang44">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		    
                    
                    
                    
                    <li>
                        <a target="_blank" href="https://www.linkedin.com/in/wei-hsiang-wang-60841b108/">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		    
                    
                    <li>
                        <a target="_blank" href="https://medium.com/@mattwang44">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-medium fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
            
                    
                    <li>
                        <a target="_blank" href="https://stackoverflow.com/users/7969188/matt-wang">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-stack-overflow fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
            
                    
                    
                    
            
            
            
                </ul>
		<p class="copyright text-muted">
                    Copyright &copy; WHW blog 2020
                    <br>
                    <a href="https://themes.gohugo.io/hugo-theme-cleanwhite">CleanWhite Hugo Theme</a> by <a href="https://zhaohuabing.com">Huabing</a> |
                    <iframe
                        style="margin-left: 2px; margin-bottom:-5px;"
                        frameborder="0" scrolling="0" width="100px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=zhaohuabing&repo=hugo-theme-cleanwhite&type=star&count=true" >
                    </iframe>
                </p>
            </div>
        </div>
    </div>
</footer>




<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>






<script>
    
    if($('#tag_cloud').length !== 0){
        async("/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>


<script>
    async("https://cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>






</body>
</html>
